<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Orders Chatbot</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; }
      #log { white-space: pre-wrap; border: 1px solid #ddd; padding: 1rem; height: 320px; overflow:auto; }
      #row { margin-top: 1rem; display:flex; gap:.5rem }
      input { flex:1; padding:.5rem }
      button { padding:.5rem 1rem }
    </style>
  </head>
  <body>
    <h1>Orders Chatbot</h1>
    <div id="log"></div>
    <div id="row">
      <input id="msg" placeholder="Type a message" />
      <button onclick="send()">Send</button>
    </div>
    <script>
      const log = (t) => {
        const el = document.getElementById('log');
        el.textContent += t + "\n";
        el.scrollTop = el.scrollHeight;
      }
      async function send() {
        const box = document.getElementById('msg');
        const text = box.value.trim();
        if (!text) return;
        box.value = "";
        log("You: " + text);
        const res = await fetch("/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: text })
        });
        const data = await res.json();
        log("Bot: " + data.response);
      }
    </script>
  </body>
</html>
